{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/workspace/tation_authByWallet/src/views/app-views/dashboard/wallet/IsUserRegistered.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { CloseCircleTwoTone, CloseCircleOutlined, CheckCircleTwoTone, CheckCircleOutlined, LoadingOutlined } from '@ant-design/icons';\nimport { Spin, Button, Modal } from 'antd';\nimport Portis from '@portis/web3';\nimport Web3 from 'web3'; //  import {coopData_contract} from 'services/AddAndABI'\n\nimport { CoopDataContract } from 'services/AddAndABI';\n\nconst RegisteredYes = () => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Button, {\n      className: \"mb-2 bt-2\",\n      type: \"primary\",\n      icon: /*#__PURE__*/_jsxDEV(CheckCircleOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 56\n      }, this),\n      size: \"small\",\n      block: true,\n      ghost: true,\n      children: \"User Confirmed\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 3\n    }, this)\n  }, void 0, false);\n};\n\n_c = RegisteredYes;\n\nconst RegisteredPending = () => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Button, {\n      className: \"mb-2 bt-2\",\n      type: \"primary\",\n      icon: /*#__PURE__*/_jsxDEV(CheckCircleOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 56\n      }, this),\n      size: \"small\",\n      loading: true,\n      disabled: true,\n      block: true,\n      ghost: true,\n      children: \"Pending\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 3\n    }, this)\n  }, void 0, false);\n};\n\n_c2 = RegisteredPending;\n\nconst RegisteredNo = ({\n  address,\n  walletType\n}) => {\n  _s();\n\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const modalOff = () => {\n    setIsModalVisible(false);\n  };\n\n  const registerUser = async address => {\n    setIsModalVisible(true);\n    await CoopDataContract.setUser(address, modalOff);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      className: \"mb-2 bt-2\",\n      type: \"primary\",\n      icon: /*#__PURE__*/_jsxDEV(CloseCircleOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 56\n      }, this),\n      size: \"small\",\n      onClick: () => {\n        registerUser(address);\n      },\n      danger: true,\n      block: true,\n      children: \"User Registration\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"Registering User\",\n      visible: isModalVisible,\n      onCancel: modalOff,\n      maskClosable: false,\n      centered: true,\n      footer: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: modalOff,\n        children: \" Cancel \"\n      }, \"Cancle\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }, this)],\n      children: [/*#__PURE__*/_jsxDEV(LoadingOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ml-2\",\n        children: \" Now Loading Wallet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"It might takes few seconds to show your wallet successfully\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\n_s(RegisteredNo, \"ZFwHEtl1ZQoNaflbPbQvGOHlSaM=\");\n\n_c3 = RegisteredNo;\n\nconst IsUserRegistered = () => {\n  _s2();\n\n  const userInfo = useSelector(state => state.auth.userInfo);\n  const address = userInfo && userInfo.walletAddress;\n  const walletType = userInfo && userInfo.walletType;\n  const userRegisterTxhash = userInfo && userInfo.userRegisterTxhash;\n  const [isRegistered, setIsRegistered] = useState(false);\n\n  const checkIfRegistered = async (address) => await CoopDataContract.getUser(address).then(res => setIsRegistered(res.userAddress));\n\n  useEffect(() => {\n    userInfo && checkIfRegistered(userInfo.walletAddress);\n  }, [userInfo]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!isRegistered && /*#__PURE__*/_jsxDEV(Button, {\n      className: \"mb-2 bt-2\",\n      type: \"primary\",\n      size: \"small\",\n      loading: true,\n      block: true,\n      children: \" User Confirmation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), isRegistered && isRegistered == '0x0000000000000000000000000000000000000000' && !userRegisterTxhash && /*#__PURE__*/_jsxDEV(RegisteredNo, {\n      address: address,\n      walletType: walletType\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 4\n    }, this), isRegistered && isRegistered == '0x0000000000000000000000000000000000000000' && userRegisterTxhash && /*#__PURE__*/_jsxDEV(RegisteredPending, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 104\n    }, this), isRegistered && isRegistered !== '0x0000000000000000000000000000000000000000' && /*#__PURE__*/_jsxDEV(RegisteredYes, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 85\n    }, this)]\n  }, void 0, true);\n};\n\n_s2(IsUserRegistered, \"u65jWxpxL33L9+XeMu/ShF40lqE=\", false, function () {\n  return [useSelector];\n});\n\n_c4 = IsUserRegistered;\nexport default IsUserRegistered;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"RegisteredYes\");\n$RefreshReg$(_c2, \"RegisteredPending\");\n$RefreshReg$(_c3, \"RegisteredNo\");\n$RefreshReg$(_c4, \"IsUserRegistered\");","map":{"version":3,"sources":["/workspace/tation_authByWallet/src/views/app-views/dashboard/wallet/IsUserRegistered.js"],"names":["React","useState","useEffect","useSelector","CloseCircleTwoTone","CloseCircleOutlined","CheckCircleTwoTone","CheckCircleOutlined","LoadingOutlined","Spin","Button","Modal","Portis","Web3","CoopDataContract","RegisteredYes","RegisteredPending","RegisteredNo","address","walletType","isModalVisible","setIsModalVisible","modalOff","registerUser","setUser","IsUserRegistered","userInfo","state","auth","walletAddress","userRegisterTxhash","isRegistered","setIsRegistered","checkIfRegistered","getUser","then","res","userAddress"],"mappings":"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","sourcesContent":["import  React, {useState, useEffect} from 'react';\nimport { useSelector } from 'react-redux'\nimport { \n  CloseCircleTwoTone,\n\tCloseCircleOutlined,\n\tCheckCircleTwoTone,\n\tCheckCircleOutlined,\n\tLoadingOutlined,\n} from '@ant-design/icons';\nimport { Spin, Button, Modal } from 'antd';\nimport Portis from '@portis/web3';\nimport Web3 from 'web3'\n//  import {coopData_contract} from 'services/AddAndABI'\n import {CoopDataContract} from 'services/AddAndABI'\n\n\n\nconst RegisteredYes = () => {\n\treturn(\n\t\t<>\n\t\t<Button className=\"mb-2 bt-2\" type=\"primary\"  icon= {<CheckCircleOutlined />} size='small'  block ghost >\n\t\t\tUser Confirmed\n\t\t </Button>\n\t\t</>\n\t)\n}\n\nconst RegisteredPending = () => {\n\treturn(\n\t\t<>\n\t\t<Button className=\"mb-2 bt-2\" type=\"primary\"  icon= {<CheckCircleOutlined />} size='small'  loading disabled block ghost >\n\t\t\tPending\n\t\t </Button>\n\t\t</>\n\t)\n}\n\nconst RegisteredNo = ({address, walletType}) => {\n\t\t    const [isModalVisible, setIsModalVisible] = useState(false);\n\t\t\tconst modalOff = () => {setIsModalVisible(false);};\t\n\t\n\t\t\tconst registerUser = async (address) => {\n\t\t\t\t    setIsModalVisible(true)\n\t\t\t\t    await CoopDataContract.setUser(address, modalOff)\n\t\t\t\t}\t\n\t\n\t\n\treturn(\n\t\t<>\n\t\t <Button className=\"mb-2 bt-2\" type=\"primary\" icon= {<CloseCircleOutlined />} size='small' onClick={()=>{registerUser(address)}} danger block>\n\t\t\tUser Registration\n\t\t </Button>\n\t\t\t<Modal title=\"Registering User\" \n\t\t   visible={isModalVisible} \n\t\t   onCancel={modalOff}  \n\t\t   maskClosable={false} centered={true}\n\t\t   footer={[<Button key=\"Cancle\" onClick={modalOff}> Cancel </Button>]}\n\t\t   >\n\t\t  <LoadingOutlined /> \n\t\t  <span className=\"ml-2\"> Now Loading Wallet.</span>\n\t\t  <p>It might takes few seconds to show your wallet successfully</p>\n\t\t</Modal>\n\t\t</>\n\t)\n}\n\n\nconst IsUserRegistered = () => {\n\tconst userInfo = useSelector(state => state.auth.userInfo)\n\tconst address =  userInfo&& userInfo.walletAddress\n\tconst walletType = userInfo&& userInfo.walletType\n\tconst userRegisterTxhash = userInfo&& userInfo.userRegisterTxhash\n\t\n\tconst [isRegistered, setIsRegistered] = useState(false)\n\tconst checkIfRegistered = async (address) => \n\t\tawait CoopDataContract.getUser(address).then(res => setIsRegistered(res.userAddress))\n\t\n\n\tuseEffect(()=>{\n\tuserInfo&&checkIfRegistered(userInfo.walletAddress)\n\t},[userInfo]\n\t)\n\n\n  return (\n    <>\n\t{!isRegistered &&\n\t     <Button className=\"mb-2 bt-2\" type=\"primary\"   size='small' loading block> User Confirmation</Button>}\n\n\t{isRegistered && (isRegistered=='0x0000000000000000000000000000000000000000') && !userRegisterTxhash&& \n\t  <RegisteredNo address={address} walletType={walletType}/>}\n\t{isRegistered && (isRegistered=='0x0000000000000000000000000000000000000000') && userRegisterTxhash&& <RegisteredPending />}\n\t{isRegistered && (isRegistered !=='0x0000000000000000000000000000000000000000') && <RegisteredYes />}\n\t\t \n    </>\n  )\n}\n\n\nexport default IsUserRegistered\n "]},"metadata":{},"sourceType":"module"}