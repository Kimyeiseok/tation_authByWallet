{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/workspace/tation_authByWallet/src/views/index.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Route, Switch, Redirect, withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport AppLayout from \"layouts/app-layout\";\nimport AuthLayout from 'layouts/auth-layout';\nimport AppLocale from \"lang\";\nimport { IntlProvider } from \"react-intl\";\nimport { ConfigProvider } from 'antd';\nimport { APP_PREFIX_PATH, AUTH_PREFIX_PATH } from 'configs/AppConfig';\n\nfunction RouteInterceptor({\n  children,\n  isAuthenticated,\n  ...rest\n}) {\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: ({\n      location\n    }) => isAuthenticated ? children : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: {\n        pathname: AUTH_PREFIX_PATH,\n        state: {\n          from: location\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 5\n  }, this);\n}\n\n_c = RouteInterceptor;\nexport const Views = props => {\n  _s();\n\n  const {\n    locale,\n    token,\n    location\n  } = props;\n  const test = useSelector(state => state.auth);\n  console.log(test);\n  console.log('hihhi');\n  const currentAppLocale = AppLocale[locale];\n  return /*#__PURE__*/_jsxDEV(IntlProvider, {\n    locale: currentAppLocale.locale,\n    messages: currentAppLocale.messages,\n    children: /*#__PURE__*/_jsxDEV(ConfigProvider, {\n      locale: currentAppLocale.antd,\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          children: /*#__PURE__*/_jsxDEV(Redirect, {\n            to: APP_PREFIX_PATH\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: AUTH_PREFIX_PATH,\n          children: /*#__PURE__*/_jsxDEV(AuthLayout, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(RouteInterceptor, {\n          path: APP_PREFIX_PATH,\n          isAuthenticated: token,\n          children: /*#__PURE__*/_jsxDEV(AppLayout, {\n            location: location\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Views, \"KOjDMYp8BowRafhPLoVWP0OiA2k=\", false, function () {\n  return [useSelector];\n});\n\n_c2 = Views;\n\nconst mapStateToProps = ({\n  theme,\n  auth\n}) => {\n  const {\n    locale\n  } = theme;\n  const {\n    token\n  } = auth;\n  return {\n    locale,\n    token\n  };\n};\n\nexport default withRouter(connect(mapStateToProps)(Views));\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"RouteInterceptor\");\n$RefreshReg$(_c2, \"Views\");","map":{"version":3,"sources":["/workspace/tation_authByWallet/src/views/index.js"],"names":["React","Route","Switch","Redirect","withRouter","connect","useDispatch","useSelector","AppLayout","AuthLayout","AppLocale","IntlProvider","ConfigProvider","APP_PREFIX_PATH","AUTH_PREFIX_PATH","RouteInterceptor","children","isAuthenticated","rest","location","pathname","state","from","Views","props","locale","token","test","auth","console","log","currentAppLocale","messages","antd","mapStateToProps","theme"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Route, Switch, Redirect, withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport AppLayout from \"layouts/app-layout\";\nimport AuthLayout from 'layouts/auth-layout';\nimport AppLocale from \"lang\";\nimport { IntlProvider } from \"react-intl\";\nimport { ConfigProvider } from 'antd';\nimport { APP_PREFIX_PATH, AUTH_PREFIX_PATH } from 'configs/AppConfig'\n\nfunction RouteInterceptor({ children, isAuthenticated, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={({ location }) =>\n        isAuthenticated ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: AUTH_PREFIX_PATH,\n              state: { from: location }\n            }}\n          />\n        )\n      }\n    />\n  );\n}\n\nexport const Views = (props) => {\n  const { locale, token, location } = props;\n  const test = useSelector(state => state.auth);\n\tconsole.log(test)\n\tconsole.log('hihhi')\n\t\n  const currentAppLocale = AppLocale[locale];\n  return (\n    <IntlProvider\n      locale={currentAppLocale.locale}\n      messages={currentAppLocale.messages}>\n      <ConfigProvider locale={currentAppLocale.antd}>\n        <Switch>\n          <Route exact path=\"/\">\n            <Redirect to={APP_PREFIX_PATH} />\n          </Route>\n          <Route path={AUTH_PREFIX_PATH}>\n            <AuthLayout />\n          </Route>\n          <RouteInterceptor path={APP_PREFIX_PATH} isAuthenticated={token}>\n            <AppLayout location={location}/>\n          </RouteInterceptor>\n        </Switch>\n      </ConfigProvider>\n    </IntlProvider>\n  )\n}\n\n\nconst mapStateToProps = ({ theme, auth }) => {\n  const { locale } =  theme;\n  const { token } = auth;\n  return { locale, token }\n};\n\nexport default withRouter(connect(mapStateToProps)(Views));"]},"metadata":{},"sourceType":"module"}