{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/workspace/tation_authByWallet/src/views/index.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Route, Switch, Redirect, withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport AppLayout from \"layouts/app-layout\";\nimport AuthLayout from 'layouts/auth-layout';\nimport AppLocale from \"lang\";\nimport { IntlProvider } from \"react-intl\";\nimport { ConfigProvider } from 'antd';\nimport { APP_PREFIX_PATH, AUTH_PREFIX_PATH } from 'configs/AppConfig';\n\nfunction RouteInterceptor({\n  children,\n  isAuthenticated,\n  ...rest\n}) {\n  return /*#__PURE__*/_jsxDEV(Route, { ...rest,\n    render: ({\n      location\n    }) => isAuthenticated ? children : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: {\n        pathname: AUTH_PREFIX_PATH,\n        state: {\n          from: location\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 5\n  }, this);\n}\n\n_c = RouteInterceptor;\nexport const Views = props => {\n  _s();\n\n  //const { locale,  location } = props;\n  const {\n    token\n  } = useSelector(state => state.auth);\n  const {\n    locale,\n    location\n  } = useSelector(state => state.theme);\n  const currentAppLocale = AppLocale[locale];\n  return /*#__PURE__*/_jsxDEV(IntlProvider, {\n    locale: currentAppLocale.locale,\n    messages: currentAppLocale.messages,\n    children: /*#__PURE__*/_jsxDEV(ConfigProvider, {\n      locale: currentAppLocale.antd,\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          children: /*#__PURE__*/_jsxDEV(Redirect, {\n            to: APP_PREFIX_PATH\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: AUTH_PREFIX_PATH,\n          children: /*#__PURE__*/_jsxDEV(AuthLayout, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(RouteInterceptor, {\n          path: APP_PREFIX_PATH,\n          isAuthenticated: token,\n          children: /*#__PURE__*/_jsxDEV(AppLayout, {\n            location: location\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}; // const mapStateToProps = ({ theme, auth }) => {\n//   const { locale } =  theme;\n//   const { token } = auth;\n//   return { locale, token }\n// };\n// export default withRouter(connect(mapStateToProps)(Views));\n\n_s(Views, \"5t+sNDiGWdjYXDgEWyEFFA37L7c=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c2 = Views;\nexport default _c3 = withRouter(Views);\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"RouteInterceptor\");\n$RefreshReg$(_c2, \"Views\");\n$RefreshReg$(_c3, \"%default%\");","map":{"version":3,"sources":["/workspace/tation_authByWallet/src/views/index.js"],"names":["React","Route","Switch","Redirect","withRouter","connect","useDispatch","useSelector","AppLayout","AuthLayout","AppLocale","IntlProvider","ConfigProvider","APP_PREFIX_PATH","AUTH_PREFIX_PATH","RouteInterceptor","children","isAuthenticated","rest","location","pathname","state","from","Views","props","token","auth","locale","theme","currentAppLocale","messages","antd"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,MAAhB,EAAwBC,QAAxB,EAAkCC,UAAlC,QAAoD,kBAApD;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,UAAP,MAAuB,qBAAvB;AACA,OAAOC,SAAP,MAAsB,MAAtB;AACA,SAASC,YAAT,QAA6B,YAA7B;AACA,SAASC,cAAT,QAA+B,MAA/B;AACA,SAASC,eAAT,EAA0BC,gBAA1B,QAAkD,mBAAlD;;AAEA,SAASC,gBAAT,CAA0B;AAAEC,EAAAA,QAAF;AAAYC,EAAAA,eAAZ;AAA6B,KAAGC;AAAhC,CAA1B,EAAkE;AAChE,sBACE,QAAC,KAAD,OACMA,IADN;AAEE,IAAA,MAAM,EAAE,CAAC;AAAEC,MAAAA;AAAF,KAAD,KACNF,eAAe,GACbD,QADa,gBAGb,QAAC,QAAD;AACE,MAAA,EAAE,EAAE;AACFI,QAAAA,QAAQ,EAAEN,gBADR;AAEFO,QAAAA,KAAK,EAAE;AAAEC,UAAAA,IAAI,EAAEH;AAAR;AAFL;AADN;AAAA;AAAA;AAAA;AAAA;AANN;AAAA;AAAA;AAAA;AAAA,UADF;AAiBD;;KAlBQJ,gB;AAoBT,OAAO,MAAMQ,KAAK,GAAIC,KAAD,IAAW;AAAA;;AAC9B;AACA,QAAM;AAACC,IAAAA;AAAD,MAAUlB,WAAW,CAACc,KAAK,IAAIA,KAAK,CAACK,IAAhB,CAA3B;AACD,QAAM;AAACC,IAAAA,MAAD;AAASR,IAAAA;AAAT,MAAqBZ,WAAW,CAACc,KAAK,IAAIA,KAAK,CAACO,KAAhB,CAAtC;AAEC,QAAMC,gBAAgB,GAAGnB,SAAS,CAACiB,MAAD,CAAlC;AACA,sBACE,QAAC,YAAD;AACE,IAAA,MAAM,EAAEE,gBAAgB,CAACF,MAD3B;AAEE,IAAA,QAAQ,EAAEE,gBAAgB,CAACC,QAF7B;AAAA,2BAGE,QAAC,cAAD;AAAgB,MAAA,MAAM,EAAED,gBAAgB,CAACE,IAAzC;AAAA,6BACE,QAAC,MAAD;AAAA,gCACE,QAAC,KAAD;AAAO,UAAA,KAAK,MAAZ;AAAa,UAAA,IAAI,EAAC,GAAlB;AAAA,iCACE,QAAC,QAAD;AAAU,YAAA,EAAE,EAAElB;AAAd;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE,QAAC,KAAD;AAAO,UAAA,IAAI,EAAEC,gBAAb;AAAA,iCACE,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAJF,eAOE,QAAC,gBAAD;AAAkB,UAAA,IAAI,EAAED,eAAxB;AAAyC,UAAA,eAAe,EAAEY,KAA1D;AAAA,iCACE,QAAC,SAAD;AAAW,YAAA,QAAQ,EAAEN;AAArB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AAHF;AAAA;AAAA;AAAA;AAAA,UADF;AAmBD,CAzBM,C,CA4BP;AACA;AACA;AACA;AACA;AAEA;;GAlCaI,K;UAEKhB,W,EACUA,W;;;MAHfgB,K;AAmCb,qBAAenB,UAAU,CAACmB,KAAD,CAAzB","sourcesContent":["import React from \"react\";\nimport { Route, Switch, Redirect, withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport AppLayout from \"layouts/app-layout\";\nimport AuthLayout from 'layouts/auth-layout';\nimport AppLocale from \"lang\";\nimport { IntlProvider } from \"react-intl\";\nimport { ConfigProvider } from 'antd';\nimport { APP_PREFIX_PATH, AUTH_PREFIX_PATH } from 'configs/AppConfig'\n\nfunction RouteInterceptor({ children, isAuthenticated, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={({ location }) =>\n        isAuthenticated ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: AUTH_PREFIX_PATH,\n              state: { from: location }\n            }}\n          />\n        )\n      }\n    />\n  );\n}\n\nexport const Views = (props) => {\n  //const { locale,  location } = props;\n  const {token} = useSelector(state => state.auth);  \n\tconst {locale, location} = useSelector(state => state.theme)\n\t\n  const currentAppLocale = AppLocale[locale];\n  return (\n    <IntlProvider\n      locale={currentAppLocale.locale}\n      messages={currentAppLocale.messages}>\n      <ConfigProvider locale={currentAppLocale.antd}>\n        <Switch>\n          <Route exact path=\"/\">\n            <Redirect to={APP_PREFIX_PATH} />\n          </Route>\n          <Route path={AUTH_PREFIX_PATH}>\n            <AuthLayout />\n          </Route>\n          <RouteInterceptor path={APP_PREFIX_PATH} isAuthenticated={token}>\n            <AppLayout location={location}/>\n          </RouteInterceptor>\n        </Switch>\n      </ConfigProvider>\n    </IntlProvider>\n  )\n}\n\n\n// const mapStateToProps = ({ theme, auth }) => {\n//   const { locale } =  theme;\n//   const { token } = auth;\n//   return { locale, token }\n// };\n\n// export default withRouter(connect(mapStateToProps)(Views));\nexport default withRouter(Views)"]},"metadata":{},"sourceType":"module"}